(this["webpackJsonpbudget-entry"]=this["webpackJsonpbudget-entry"]||[]).push([[0],{83:function(e,t,n){},85:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(32),o=n.n(r),i=(n(83),n(30)),u=n.n(i),s=n(42),l=n(22),d=n(11),b=(n.p,n(85),n(146)),j=n(147),p=n(151),f=n(65),O=n.n(f),g=n(149),y=n(150),h=n(141),m=n(2);var S=function(){var e=["GPay","Card","Cash"],t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(!0),i=Object(d.a)(o,2),f=i[0],S=i[1],x=Object(a.useState)({}),v=Object(d.a)(x,2),C=v[0],V=v[1],w=Object(a.useState)([]),I=Object(d.a)(w,2),P=I[0],k=I[1],T=Object(a.useState)({mainCategorySelectedVal:"",subCategorySelectedVal:"",amountVal:"",modeOfPayment:e}),E=Object(d.a)(T,2),F=E[0],L=E[1],B=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={date:(new Date).toLocaleDateString("en-GB"),categoryMain:F.mainCategorySelectedVal,categorySub:F.subCategorySelectedVal,amount:F.amountVal,mode:F.modeOfPayment,comment:""},e.next=3,fetch("/budget/submitSingleEntry",{method:"POST",body:JSON.stringify({budgetEntryObj:t}),headers:{"Content-Type":"application/json"}});case 3:e.sent&&((n=Object(l.a)({},F)).mainCategorySelectedVal="",n.subCategorySelectedVal="",n.amountVal="",n.modeOfPayment="",L(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function J(){return M.apply(this,arguments)}function M(){return(M=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return t={},e.next=5,fetch("/budget/categories");case 5:return n=e.sent,e.next=8,n.json();case 8:t=e.sent,V(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/auth/google",{method:"POST",body:JSON.stringify({token:t.tokenId}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent,S(!1),r(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/budget/needsSignIn",{method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,S(n.needsSignIn),n.needsSignIn||r(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){J()}),[c]),Object(m.jsxs)("div",{className:"App",children:[f&&Object(m.jsx)(O.a,{clientId:"93692374627-igi73o54qm5f6n0ngo4ftpa66ld11f5o.apps.googleusercontent.com",buttonText:"Log in with Google",onSuccess:function(e){return D.apply(this,arguments)},onFailure:function(e){S(!0),r(!1)},cookiePolicy:"single_host_origin"}),!f&&Object(m.jsx)(g.a,{maxWidth:"sm",children:Object(m.jsx)("div",{id:"content",children:Object(m.jsxs)(h.a,{spacing:5,children:[Object(m.jsx)("p",{children:"Budget-Entry"}),Object(m.jsx)(b.a,{id:"main-categories",options:Object.keys(C),freeSolo:!0,inputValue:F.mainCategorySelectedVal,style:{width:300},onInputChange:function(e,t,n){!function(e,t,n){var a=C[t];a||(a=[""]),k(a);var c=Object(l.a)({},F);c.subCategorySelectedVal="",c.mainCategorySelectedVal=t,L(c)}(0,t)},renderInput:function(e){return Object(m.jsx)(j.a,Object(l.a)(Object(l.a)({},e),{},{label:"Main Category",variant:"outlined"}))}}),Object(m.jsx)(b.a,{id:"sub-categories",options:P,inputValue:F.subCategorySelectedVal,onInputChange:function(e,t,n){!function(e,t,n){var a=Object(l.a)({},F);a.subCategorySelectedVal=t,L(a)}(0,t)},freeSolo:!0,style:{width:300},renderInput:function(e){return Object(m.jsx)(j.a,Object(l.a)(Object(l.a)({},e),{},{label:"Sub Category",variant:"outlined"}))}}),Object(m.jsx)(j.a,{id:"amount-val",label:"Amount",type:"number",value:F.amountVal,inputProps:{step:.01},onChange:function(e){!function(e){var t=Object(l.a)({},F);t.amountVal=e.target.value,L(t)}(e)},style:{width:300},InputLabelProps:{shrink:!0},variant:"outlined"}),Object(m.jsx)(b.a,{id:"mode-of-payment",options:e,inputValue:F.modeOfPayment,onInputChange:function(e,t,n){!function(e,t,n){var a=Object(l.a)({},F);a.modeOfPayment=t,L(a)}(0,t)},freeSolo:!0,style:{width:300},renderInput:function(e){return Object(m.jsx)(j.a,Object(l.a)(Object(l.a)({},e),{},{label:"Mode",variant:"outlined"}))}}),Object(m.jsx)(y.a,{sx:{width:300},children:Object(m.jsx)(p.a,{variant:"contained",color:"primary",size:"large",onClick:function(){B()},children:"Submit"})})]})})})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,153)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(S,{})}),document.getElementById("root")),x()}},[[94,1,2]]]);
//# sourceMappingURL=main.1e68d0c5.chunk.js.map